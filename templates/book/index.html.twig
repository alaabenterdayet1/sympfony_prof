
{% extends 'base.html.twig' %}

{% block title %}Books{% endblock %}

{% block body %}
<h1 style="text-align: center; font-family: Arial, sans-serif; color: #333;">Books List</h1>

<div style="margin-bottom: 20px; text-align: center;">
    <a href="{{ path('book_new') }}" style="background-color: #4CAF50; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px;">Create New Book</a>
    <a href="{{ path('author_index') }}" style="background-color: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px; margin-left: 10px;">View Authors</a>
    <a href="{{ path('book_published_between') }}" style="background-color: #FFA500; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px;">View Books Published Between 2014 and 2018</a>

</div>

<!-- Section to display all books (index1) -->
<h2 style="text-align: center; font-family: Arial, sans-serif; color: #333;">All Books</h2>
<table style="width: 80%; margin: 0 auto; border-collapse: collapse; font-family: Arial, sans-serif; border: 1px solid #ddd;">
    <thead>
        <tr style="background-color: #f2f2f2;">
            <th style="padding: 12px; border: 1px solid #ddd;">ID</th>
            <th style="padding: 12px; border: 1px solid #ddd;">Title</th>
            <th style="padding: 12px; border: 1px solid #ddd;">Publication Date</th>
            <th style="padding: 12px; border: 1px solid #ddd;">Enabled</th>
            <th style="padding: 12px; border: 1px solid #ddd;">Category</th>
            <th style="padding: 12px; border: 1px solid #ddd;">Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for book in allBooks %}
            <tr style="text-align: center;">
                <td style="padding: 12px; border: 1px solid #ddd;">{{ book.id }}</td>
                <td style="padding: 12px; border: 1px solid #ddd;">{{ book.title }}</td>
                <td style="padding: 12px; border: 1px solid #ddd;">{{ book.publicationDate ? book.publicationDate|date('Y-m-d') : 'N/A' }}</td>
                <td style="padding: 12px; border: 1px solid #ddd;">{{ book.enabled ? 'Yes' : 'No' }}</td>
                <td style="padding: 12px; border: 1px solid #ddd;">{{ book.category }}</td>
                <td style="padding: 12px; border: 1px solid #ddd;">
                    <a href="{{ path('book_show', { id: book.id }) }}" style="color: #1a73e8; text-decoration: none;">Show</a> |
                    <a href="{{ path('book_edit', { id: book.id }) }}" style="color: #1a73e8; text-decoration: none;">Edit</a> |
                    <form method="post" action="{{ path('book_delete', { id: book.id }) }}" style="display:inline;">
                        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ book.id) }}">
                        <button type="submit" style="background-color: #f44336; color: white; border: none; padding: 5px 10px; cursor: pointer; border-radius: 4px;">Delete</button>
                    </form>
                </td>
            </tr>

        {% else %}
            <tr>
                <td colspan="5" style="padding: 12px; text-align: center; border: 1px solid #ddd;">No books found.</td>
            </tr>
        {% endfor %}
    </tbody>
</table>

<!-- Section to display enabled books (index) -->
<h2 style="text-align: center; font-family: Arial, sans-serif; color: #333;">Enabled Books</h2>
<table style="width: 80%; margin: 0 auto; border-collapse: collapse; font-family: Arial, sans-serif; border: 1px solid #ddd;">
    <thead>
        <tr style="background-color: #f2f2f2;">
            <th style="padding: 12px; border: 1px solid #ddd;">ID</th>
            <th style="padding: 12px; border: 1px solid #ddd;">Title</th>
            <th style="padding: 12px; border: 1px solid #ddd;">Publication Date</th>
            <th style="padding: 12px; border: 1px solid #ddd;">Enabled</th>
            <th style="padding: 12px; border: 1px solid #ddd;">Category</th>
        </tr>
    </thead>
    <tbody>
        {% for book in enabledBooks %}
            <tr style="text-align: center;">
                <td style="padding: 12px; border: 1px solid #ddd;">{{ book.id }}</td>
                <td style="padding: 12px; border: 1px solid #ddd;">{{ book.title }}</td>
                <td style="padding: 12px; border: 1px solid #ddd;">{{ book.publicationDate ? book.publicationDate|date('Y-m-d') : 'N/A' }}</td>
                <td style="padding: 12px; border: 1px solid #ddd;">{{ book.enabled ? 'Yes' : 'No' }}</td>
                <td style="padding: 12px; border: 1px solid #ddd;">{{ book.category }}</td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5" style="padding: 12px; text-align: center; border: 1px solid #ddd;">No enabled books found.</td>
            </tr>
        {% endfor %}
    </tbody>
</table>

<!-- Section to display books from the "Romance" category (findBookByCategory) -->
<h2 style="text-align: center; font-family: Arial, sans-serif; color: #333;">Romance Category Books</h2>
<table style="width: 80%; margin: 0 auto; border-collapse: collapse; font-family: Arial, sans-serif; border: 1px solid #ddd;">
    <thead>
        <tr style="background-color: #f2f2f2;">
            <th style="padding: 12px; border: 1px solid #ddd;">ID</th>
            <th style="padding: 12px; border: 1px solid #ddd;">Title</th>
            <th style="padding: 12px; border: 1px solid #ddd;">Category</th>
        </tr>
    </thead>
    <tbody>
        {% for book in romanceBooks %}
            <tr style="text-align: center;">
                <td style="padding: 12px; border: 1px solid #ddd;">{{ book.id }}</td>
                <td style="padding: 12px; border: 1px solid #ddd;">{{ book.title }}</td>
                <td style="padding: 12px; border: 1px solid #ddd;">{{ book.category }}</td>
            </tr>
        {% else %}
            <tr>
                <td colspan="3" style="padding: 12px; text-align: center; border: 1px solid #ddd;">No romance books found.</td>
            </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}

